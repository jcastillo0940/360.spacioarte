import{r as a,j as e,H as c,L as i}from"./app-OZZRvyqe.js";import{A as x}from"./AuthenticatedLayout-D2-JfW7j.js";function u(){const[r,l]=a.useState([]),[n,o]=a.useState(!0);a.useEffect(()=>{fetch("/api/rrhh/nomina").then(t=>t.json()).then(t=>{l(t),o(!1)})},[]);const d=t=>({Borrador:"bg-slate-100 text-slate-700",Procesada:"bg-blue-100 text-blue-700",Pagada:"bg-green-100 text-green-700"})[t]||"bg-slate-100 text-slate-700",s=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t);return e.jsxs(x,{children:[e.jsx(c,{title:"Nómina"}),e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-black text-slate-900 flex items-center gap-3",children:[e.jsx("svg",{className:"w-8 h-8 text-slate-700",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),"Gestión de Nómina"]}),e.jsx("p",{className:"text-slate-600 mt-2",children:"Procesamiento de planillas y pagos"})]}),e.jsxs(i,{href:route("rrhh.nomina.create"),className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"Procesar Nueva Nómina"]})]})}),e.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:n?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),e.jsx("p",{className:"text-slate-600 mt-4",children:"Cargando nóminas..."})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-900 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold uppercase",children:"Período"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold uppercase",children:"Fecha Inicio"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold uppercase",children:"Fecha Fin"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"Total Bruto"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"Deducciones"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"Total Neto"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold uppercase",children:"Estado"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold uppercase",children:"Acciones"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:r.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"8",className:"px-6 py-12 text-center text-slate-500",children:[e.jsx("svg",{className:"w-16 h-16 mx-auto mb-4 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 9V7a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2m2 4h10a2 2 0 002-2v-6a2 2 0 00-2-2H9a2 2 0 00-2 2v6a2 2 0 002 2zm7-5a2 2 0 11-4 0 2 2 0 014 0z"})}),e.jsx("p",{className:"text-lg font-bold",children:"No hay nóminas procesadas"}),e.jsx("p",{className:"text-sm mt-2",children:"Procesa tu primera nómina quincenal"})]})}):r.map(t=>e.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{className:"font-bold text-slate-900",children:t.periodo_nombre})}),e.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(t.fecha_inicio).toLocaleDateString("es-PA")}),e.jsx("td",{className:"px-6 py-4 text-slate-600",children:new Date(t.fecha_fin).toLocaleDateString("es-PA")}),e.jsx("td",{className:"px-6 py-4 text-right text-slate-900 font-bold",children:s(t.total_ingresos)}),e.jsx("td",{className:"px-6 py-4 text-right text-red-600 font-bold",children:s(t.total_deducciones)}),e.jsx("td",{className:"px-6 py-4 text-right text-green-600 font-bold",children:s(t.total_neto)}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${d(t.estado)}`,children:t.estado})}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex justify-center gap-2",children:[e.jsxs("button",{className:"px-3 py-2 bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition font-bold text-sm inline-flex items-center gap-1",children:[e.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"Ver Detalles"]}),e.jsxs("button",{className:"px-3 py-2 bg-slate-100 text-slate-700 rounded-lg hover:bg-slate-200 transition font-bold text-sm inline-flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"PDF"]})]})})]},t.id))})]})})})]})]})}export{u as default};
