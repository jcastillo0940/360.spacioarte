import{r as s,P as te,b as C,j as e,H as K,c as re}from"./app-BqyPfEI0.js";import{c as ie}from"./createLucideIcon-DrM2Vc-y.js";import{C as oe}from"./chevron-right-P83XgOQT.js";import{P as ne}from"./package-Bd-OZMlM.js";import{C as V}from"./circle-check-big-BP_FBiHy.js";import{C as Y}from"./circle-alert-DxXWaSwx.js";import{F as se}from"./file-text-BCcjzgTR.js";import{C as q}from"./circle-x-DiiKyuFH.js";import{C as ae}from"./credit-card-Dc-GGEGi.js";import{C as le}from"./clock-C_NggqC9.js";import{M as H}from"./message-square-V06D11Cg.js";import{S as de}from"./send-BPIhe_eS.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ce=[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]],fe=ie("cloud-upload",ce);function J(){const r=s.useRef(null);return s.useEffect(()=>{const j=r.current;if(!j)return;const n=j.getContext("2d");let I,a,h;const b=()=>{a=j.width=window.innerWidth,h=j.height=window.innerHeight};b(),window.addEventListener("resize",b);const u=2e3,R=800,M=6,D=Array.from({length:R},()=>({x:(Math.random()-.5)*4e3,y:(Math.random()-.5)*4e3,z:Math.random()*u,size:.5+Math.random()*1.5})),S=Array.from({length:M},()=>({x:(Math.random()-.5)*2e3,y:(Math.random()-.5)*2e3,z:Math.random()*u,radius:200+Math.random()*400,angle:Math.random()*Math.PI*2,speed:.001+Math.random()*.002})),T=()=>{n.fillStyle="#000000",n.fillRect(0,0,a,h)},k=()=>{n.clearRect(0,0,a,h),T();const W=a/2,B=h/2,y=350,A=4;S.forEach(o=>{o.z-=A*.5,o.z<=0&&(o.z=u,o.x=(Math.random()-.5)*2e3,o.y=(Math.random()-.5)*2e3);const l=y/o.z,f=o.x*l+W,p=o.y*l+B,d=o.radius*l;if(f>-d&&f<a+d&&p>-d&&p<h+d&&d<a*2){n.save(),n.translate(f,p),o.angle+=o.speed,n.rotate(o.angle);let g=(1-o.z/u)*(o.z/300);g>.4&&(g=.4),g<0&&(g=0);const z=n.createRadialGradient(0,0,0,0,0,d);z.addColorStop(0,`rgba(255, 255, 255, ${g})`),z.addColorStop(.2,`rgba(200, 200, 200, ${g*.5})`),z.addColorStop(1,"transparent"),n.fillStyle=z,n.scale(1,.6),n.beginPath(),n.arc(0,0,d,0,Math.PI*2),n.fill(),n.restore()}}),D.forEach(o=>{o.z-=A,o.z<=0&&(o.z=u,o.x=(Math.random()-.5)*4e3,o.y=(Math.random()-.5)*4e3);const l=y/o.z,f=o.x*l+W,p=o.y*l+B,d=o.size*l;if(f>=0&&f<=a&&p>=0&&p<=h){const g=Math.min(1,1-o.z/u+.2);n.fillStyle=`rgba(255, 255, 255, ${g})`,n.beginPath(),n.arc(f,p,Math.max(.5,d),0,Math.PI*2),n.fill(),n.strokeStyle=`rgba(255, 255, 255, ${g*.3})`,n.lineWidth=d*.5,n.beginPath(),n.moveTo(f,p),n.lineTo(f-o.x*l*.05,p-o.y*l*.05),n.stroke()}}),I=requestAnimationFrame(k)};return k(),()=>{window.removeEventListener("resize",b),cancelAnimationFrame(I)}},[]),e.jsx("canvas",{ref:r,style:{position:"fixed",inset:0,width:"100%",height:"100%",pointerEvents:"none",zIndex:0}})}function we({orden:r,max_intentos:j}){var X;const[n,I]=s.useState([]),[a,h]=s.useState(""),[b,u]=s.useState(!1),[R,M]=s.useState(""),[D,S]=s.useState(!1),[T,k]=s.useState(!1),[W,B]=s.useState(null),[y,A]=s.useState(!1),[o,l]=s.useState(!1),f=s.useRef(null),p=()=>{var t;return(t=f.current)==null?void 0:t.scrollIntoView({behavior:"smooth"})};s.useEffect(()=>{p()},[n]),s.useEffect(()=>{if(!(r!=null&&r.tracking_token))return;"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission();const t=new te("cbd8be0eaf6853d5161c",{cluster:"mt1",forceTLS:!0,enabledTransports:["ws","wss"]}),i=t.subscribe(`chat.${r.tracking_token}`),c=t.subscribe("orders");return i.bind("nuevo-mensaje",N=>{const v=N.mensaje||N;v.emisor==="staff"&&"Notification"in window&&Notification.permission==="granted"&&new Notification("Nuevo mensaje de SpacioArte",{body:v.texto,icon:"/logo.png"}),I(L=>L.some(P=>P.id&&P.id===v.id||P.texto===v.texto&&P.created_at===v.created_at&&P.emisor===v.emisor)?L:[...L,v])}),c.bind("OrderStateChanged",N=>{N.id===r.id&&C.reload({only:["orden"]})}),()=>{t.unsubscribe(`chat.${r.tracking_token}`),t.unsubscribe("orders"),t.disconnect()}},[r==null?void 0:r.tracking_token,r==null?void 0:r.id]);const d=async t=>{if(t.preventDefault(),!a)return;u(!0);const i={id:Date.now(),texto:a,emisor:"cliente",created_at:new Date().toISOString(),requiere_aprobacion:!1};I(c=>[...c,i]);try{await re.post("/api/ventas/enviar-chat",{mensaje:i,token:r.tracking_token}),h("")}catch(c){console.error("Falla al enviar mensaje:",c)}finally{u(!1)}},g=()=>{confirm("¿Estás seguro de que deseas APROBAR este diseño? Una vez aprobado, tu orden pasará a producción y no se podrán hacer cambios.")&&C.post(`/tracking/${r.tracking_token}/approve`,{},{preserveScroll:!0})},z=t=>{t.preventDefault(),R&&C.post(`/tracking/${r.tracking_token}/reject`,{comentarios:R},{preserveScroll:!0,onSuccess:()=>{S(!1),M("")}})},Q=()=>{confirm("Hemos alcanzado el límite de 3 revisiones gratuitas. Para continuar con nuevas versiones, se aplicarán las tarifas de diseño por hora. ¿Deseas aprobar el cobro para solicitar la Rev #4?")&&C.post(`/tracking/${r.tracking_token}/approve-billing`,{},{preserveScroll:!0,onSuccess:()=>S(!0)})},Z=t=>{if(t.preventDefault(),!W||!y){alert("Por favor adjunta el diseño y acepta los términos.");return}const i=new FormData;i.append("archivo",W),l(!0),C.post(`/tracking/${r.tracking_token}/own-design`,i,{onSuccess:()=>l(!1),onError:()=>l(!1),forceFormData:!0})},_=t=>t==null?"$0.00":new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),[x,O]=s.useState(!1),[m,U]=s.useState({brief_cliente:"",archivo:null}),[E,$]=s.useState(!1),w={background:"rgba(15, 15, 15, 0.45)",backdropFilter:"saturate(180%) blur(24px)",WebkitBackdropFilter:"saturate(180%) blur(24px)",border:"1px solid rgba(255,255,255,0.08)",borderRadius:"1.5rem",boxShadow:"0 10px 40px rgba(0,0,0,0.5)"},F={background:"#ffffff",color:"#000000",border:"none",borderRadius:"999px",fontFamily:"inherit",fontWeight:600,cursor:"pointer",transition:"all 0.2s cubic-bezier(0.25, 0.8, 0.25, 1)",boxShadow:"0 4px 12px rgba(255,255,255,0.1)"},G='-apple-system, BlinkMacSystemFont, "SF Pro Text", "Segoe UI", Roboto, Helvetica, Arial, sans-serif';if(r&&r.cliente_envia_archivo&&!r.brief_cliente){const t=i=>{if(i.preventDefault(),!m.brief_cliente||!m.archivo){alert("Por favor complete la descripción y adjunte un archivo para continuar.");return}const c=new FormData;c.append("brief_cliente",m.brief_cliente),c.append("archivo",m.archivo),$(!0),C.post(`/tracking/${r.tracking_token}/brief`,c,{onSuccess:()=>$(!1),onError:()=>$(!1),forceFormData:!0})};return e.jsxs("div",{style:{minHeight:"100vh",position:"relative",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"1.5rem",overflow:"hidden",fontFamily:G},children:[e.jsx(K,{title:`Acción Requerida - Orden #${r.numero_orden}`}),e.jsx(J,{}),e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.3)",zIndex:0,pointerEvents:"none"}}),e.jsxs("div",{style:{...w,position:"relative",zIndex:10,width:"100%",maxWidth:"480px"},children:[e.jsx("div",{style:{display:"flex",justifyContent:"center",padding:"2.5rem 2rem 0"},children:e.jsx("img",{src:"/logo.png",alt:"SpacioArte",style:{height:"48px",width:"auto",maxWidth:"220px",objectFit:"contain",filter:"brightness(0) invert(1)",opacity:.9}})}),e.jsx("div",{style:{height:"1px",background:"linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent)",margin:"1.75rem 2rem 0"}}),e.jsxs("div",{style:{padding:"1.75rem 2rem 2.5rem",display:"flex",flexDirection:"column",gap:"0"},children:[e.jsx("div",{style:{width:56,height:56,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"1rem",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"1.25rem"},children:e.jsx(fe,{size:28,color:"#ffffff",strokeWidth:1.5})}),e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:600,color:"#ffffff",letterSpacing:"-0.03em",marginBottom:"0.4rem"},children:"Comencemos tu proyecto"}),e.jsx("p",{style:{fontSize:"14px",color:"rgba(255,255,255,0.6)",lineHeight:1.5,marginBottom:"2rem"},children:"Necesitamos tus ideas y archivos de referencia para que nuestro equipo de diseño empiece a crear la magia."}),e.jsxs("form",{onSubmit:t,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:600,color:"rgba(255,255,255,0.5)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"1. Instrucciones de diseño"}),e.jsx("textarea",{style:{width:"100%",boxSizing:"border-box",background:"rgba(0,0,0,0.2)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"1rem",padding:"1rem",fontSize:"14px",color:"#ffffff",resize:"none",height:"110px",outline:"none",transition:"border-color 0.2s",fontFamily:"inherit"},placeholder:"Colores, textos, ideas específicas...",value:m.brief_cliente,onChange:i=>U({...m,brief_cliente:i.target.value}),onFocus:i=>i.target.style.borderColor="rgba(255,255,255,0.4)",onBlur:i=>i.target.style.borderColor="rgba(255,255,255,0.1)",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",fontSize:"11px",fontWeight:600,color:"rgba(255,255,255,0.5)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"0.5rem"},children:"2. Archivos de referencia"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("input",{type:"file",onChange:i=>U({...m,archivo:i.target.files[0]}),style:{position:"absolute",inset:0,width:"100%",height:"100%",opacity:0,cursor:"pointer",zIndex:10},required:!0}),e.jsxs("div",{style:{background:"rgba(0,0,0,0.2)",border:"1px dashed rgba(255,255,255,0.2)",borderRadius:"1rem",padding:"1.5rem 1rem",textAlign:"center",transition:"all 0.2s"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:m.archivo?"#ffffff":"rgba(255,255,255,0.5)",fontFamily:"inherit"},children:m.archivo?m.archivo.name:"Haz clic o arrastra tu archivo aquí"}),e.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.3)",marginTop:"4px"},children:"Max 10MB (PDF, JPG, PNG)"})]})]})]}),e.jsxs("button",{type:"submit",disabled:E,style:{...F,padding:"1rem",fontSize:"15px",display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem",opacity:E?.6:1},onMouseEnter:i=>{E||(i.currentTarget.style.transform="scale(1.02)",i.currentTarget.style.background="#e6e6e6")},onMouseLeave:i=>{i.currentTarget.style.transform="none",i.currentTarget.style.background="#ffffff"},children:[E?"Enviando...":"Iniciar Proyecto",!E&&e.jsx(oe,{size:16})]})]})]})]})]})}if(!r)return null;const ee=[{label:"Diseño",desc:"Creación y propuesta",active:!0,done:["Diseño","Pre-Prensa","Producción","Terminado","Entregado"].includes(r.estado)||r.estado_diseno==="Enviado"},{label:"Aprobación",desc:"Revisión del cliente",active:["Diseño","Pre-Prensa","Producción","Terminado","Entregado"].includes(r.estado),done:["Pre-Prensa","Producción","Terminado","Entregado"].includes(r.estado)},{label:"Producción",desc:"Impresión y ensamblaje",active:["Pre-Prensa","Producción"].includes(r.estado),done:["Terminado","Entregado"].includes(r.estado)},{label:"Entrega",desc:"Listo para ti",active:r.estado==="Terminado",done:r.estado==="Entregado"}];return e.jsxs("div",{style:{minHeight:"100vh",fontFamily:G,position:"relative",paddingBottom:"6rem"},children:[e.jsx(K,{title:`Orden #${r.numero_orden}`}),e.jsx(J,{}),e.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,0.2)",zIndex:0,pointerEvents:"none"}}),e.jsx("header",{style:{position:"sticky",top:0,zIndex:40,background:"rgba(10, 10, 10, 0.65)",backdropFilter:"saturate(180%) blur(24px)",WebkitBackdropFilter:"saturate(180%) blur(24px)",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:e.jsxs("div",{style:{maxWidth:"80rem",margin:"0 auto",padding:"0 1.5rem",height:"64px",display:"grid",gridTemplateColumns:"1fr auto 1fr",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("div",{style:{width:36,height:36,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ne,{size:16,color:"#ffffff"})}),e.jsx("span",{style:{fontWeight:500,fontSize:"14px",color:"rgba(255,255,255,0.8)"},className:"sa-sm-only",children:"Portal Cliente"})]}),e.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("img",{src:"/logo.png",alt:"SpacioArte",style:{height:"28px",width:"auto",maxWidth:"160px",objectFit:"contain",filter:"brightness(0) invert(1)",opacity:1}})}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[e.jsx("span",{style:{fontSize:"10px",fontWeight:600,color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.05em"},children:"Orden"}),e.jsxs("span",{style:{fontSize:"15px",fontWeight:600,color:"#ffffff",letterSpacing:"-0.01em"},children:["#",r.numero_orden]})]})]})}),e.jsxs("main",{style:{maxWidth:"80rem",margin:"0 auto",padding:"2.5rem 1.5rem",position:"relative",zIndex:1},children:[r.estado_diseno==="Aprobado"&&e.jsxs("div",{style:{marginBottom:"2rem",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.2)",borderRadius:"1.25rem",padding:"1rem 1.5rem",display:"flex",alignItems:"center",gap:"1rem",backdropFilter:"blur(10px)"},children:[e.jsx("div",{style:{width:40,height:40,background:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(V,{size:20,color:"#000000"})}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontWeight:600,color:"#ffffff",fontSize:"15px",marginBottom:"2px"},children:"Diseño Aprobado"}),e.jsx("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.6)"},children:"Tu pedido ha sido liberado a producción de forma exitosa."})]})]}),e.jsxs("div",{className:"sa-grid",children:[e.jsx("div",{className:"sa-col-main",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[e.jsxs("div",{style:{...w,overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"1.75rem",borderBottom:"1px solid rgba(255,255,255,0.08)",display:"flex",flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{children:r.estado_diseno==="Aprobado"?e.jsxs(e.Fragment,{children:[e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:600,color:"#ffffff",letterSpacing:"-0.02em"},children:"Diseño Final"}),e.jsx("p",{style:{fontSize:"14px",color:"rgba(255,255,255,0.5)",marginTop:"4px"},children:"Este archivo ya está en proceso de fabricación."})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginBottom:"0.5rem"},children:[e.jsx("span",{style:{background:"rgba(255,255,255,0.1)",color:"#ffffff",padding:"4px 10px",borderRadius:"8px",fontSize:"11px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.05em"},children:"Requiere Revisión"}),e.jsxs("span",{style:{fontSize:"13px",color:"rgba(255,255,255,0.4)",fontWeight:500},children:["Intento ",r.diseno_intentos," de ",j||3]})]}),e.jsx("h2",{style:{fontSize:"1.5rem",fontWeight:600,color:"#ffffff",letterSpacing:"-0.02em"},children:"Propuesta de Diseño"})]})}),r.estado_diseno==="Enviado"&&!D&&!T&&e.jsxs("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.75rem",alignItems:"center"},children:[r.diseno_intentos>=(j||3)&&!r.diseno_cobro_aprobado?e.jsxs("button",{onClick:Q,style:{padding:"0.6rem 1.25rem",borderRadius:"999px",fontSize:"13px",fontWeight:500,background:"transparent",color:"#ffffff",border:"1px solid rgba(255,255,255,0.3)",cursor:"pointer",display:"flex",alignItems:"center",gap:"0.4rem",transition:"all 0.2s"},children:[e.jsx(Y,{size:14})," Solicitar Cambios Extras"]}):e.jsx("button",{onClick:()=>S(!0),style:{padding:"0.6rem 1.25rem",borderRadius:"999px",fontSize:"13px",fontWeight:500,background:"rgba(255,255,255,0.05)",color:"#ffffff",border:"1px solid rgba(255,255,255,0.1)",cursor:"pointer",transition:"all 0.2s"},onMouseEnter:t=>t.currentTarget.style.background="rgba(255,255,255,0.1)",onMouseLeave:t=>t.currentTarget.style.background="rgba(255,255,255,0.05)",children:"Solicitar Cambios"}),e.jsx("button",{onClick:g,style:{...F,padding:"0.6rem 1.5rem",fontSize:"13px"},onMouseEnter:t=>{t.currentTarget.style.transform="scale(1.03)",t.currentTarget.style.background="#e6e6e6"},onMouseLeave:t=>{t.currentTarget.style.transform="scale(1)",t.currentTarget.style.background="#ffffff"},children:"Aprobar Diseño"})]})]}),e.jsx("div",{style:{padding:"2.5rem",background:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:["jpg","jpeg","png","gif","webp"].some(t=>{var i;return(i=r.imagen_diseno)==null?void 0:i.toLowerCase().endsWith(t)})?e.jsx("img",{src:`/storage/${r.imagen_diseno}`,alt:"Diseño",style:{maxWidth:"100%",height:"auto",borderRadius:"1rem",border:"1px solid rgba(255,255,255,0.1)",boxShadow:"0 20px 40px rgba(0,0,0,0.8)"}}):e.jsxs("div",{style:{textAlign:"center",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:64,height:64,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(se,{size:24,color:"rgba(255,255,255,0.5)"})}),e.jsx("p",{style:{fontSize:"14px",fontWeight:500,color:"rgba(255,255,255,0.6)"},children:"Archivo de alta resolución"}),e.jsx("a",{href:`/storage/${r.imagen_diseno}`,target:"_blank",style:{background:"#ffffff",color:"#000000",padding:"0.6rem 1.5rem",borderRadius:"999px",fontWeight:600,fontSize:"13px",textDecoration:"none",transition:"all 0.2s"},children:"Descargar / Ver Archivo"})]})}),r.estado_diseno==="Enviado"&&!T&&!D&&e.jsx("div",{style:{borderTop:"1px solid rgba(255,255,255,0.08)",padding:"1.25rem",textAlign:"center"},children:e.jsx("button",{onClick:()=>k(!0),style:{fontSize:"13px",fontWeight:500,color:"rgba(255,255,255,0.5)",background:"none",border:"none",cursor:"pointer",textDecoration:"underline",textDecorationColor:"rgba(255,255,255,0.2)",textUnderlineOffset:"4px",fontFamily:"inherit",transition:"color 0.2s"},onMouseEnter:t=>t.currentTarget.style.color="#ffffff",onMouseLeave:t=>t.currentTarget.style.color="rgba(255,255,255,0.5)",children:"¿Prefieres enviar tu propio archivo final?"})})]}),D&&e.jsxs("div",{style:{...w,padding:"2rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem"},children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:600,color:"#ffffff"},children:"Solicitar Cambios"}),e.jsx("button",{onClick:()=>S(!1),style:{width:32,height:32,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff"},children:e.jsx(q,{size:18})})]}),e.jsxs("form",{onSubmit:z,style:{display:"flex",flexDirection:"column",gap:"1.25rem"},children:[e.jsx("textarea",{value:R,onChange:t=>M(t.target.value),placeholder:"Describe los ajustes que necesitas de forma clara...",style:{width:"100%",boxSizing:"border-box",background:"rgba(0,0,0,0.3)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"1rem",padding:"1rem",fontSize:"14px",color:"#ffffff",resize:"none",height:"120px",outline:"none",fontFamily:"inherit"},onFocus:t=>t.target.style.borderColor="rgba(255,255,255,0.4)",onBlur:t=>t.target.style.borderColor="rgba(255,255,255,0.1)",required:!0}),e.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:e.jsx("button",{type:"submit",style:{...F,padding:"0.75rem 1.5rem",fontSize:"14px"},children:"Enviar Comentarios"})})]})]}),T&&e.jsxs("div",{style:{...w,padding:"2rem"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",marginBottom:"1.5rem"},children:[e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"1.25rem",fontWeight:600,color:"#ffffff"},children:"Enviar mi propio diseño"}),e.jsx("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",marginTop:"4px"},children:"Salta el proceso editorial subiendo tu archivo final."})]}),e.jsx("button",{onClick:()=>k(!1),style:{width:32,height:32,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff",flexShrink:0},children:e.jsx(q,{size:18})})]}),e.jsxs("form",{onSubmit:Z,style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:[e.jsx("div",{style:{border:"1px dashed rgba(255,255,255,0.2)",borderRadius:"1rem",padding:"1.5rem",position:"relative",background:"rgba(0,0,0,0.2)"},children:e.jsx("input",{type:"file",onChange:t=>B(t.target.files[0]),style:{width:"100%",fontSize:"14px",color:"rgba(255,255,255,0.8)",cursor:"pointer",fontFamily:"inherit"},required:!0})}),e.jsxs("div",{style:{background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"1rem",padding:"1.25rem",display:"flex",gap:"1rem"},children:[e.jsx(Y,{size:20,color:"#ffffff",style:{flexShrink:0,marginTop:"2px"}}),e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.7)",lineHeight:1.5,marginBottom:"1rem"},children:"Al enviar su propio diseño, asume la responsabilidad total sobre resolución, ortografía y perfiles de color. SpacioArte no se hace responsable por errores en el archivo original."}),e.jsxs("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",checked:y,onChange:t=>A(t.target.checked),style:{width:16,height:16,accentColor:"#000"},required:!0}),e.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:"#ffffff"},children:"Acepto la responsabilidad técnica"})]})]})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem"},children:[e.jsx("button",{type:"button",onClick:()=>k(!1),style:{padding:"0.75rem 1.5rem",borderRadius:"999px",fontSize:"14px",fontWeight:500,background:"transparent",color:"#ffffff",border:"1px solid rgba(255,255,255,0.2)",cursor:"pointer",fontFamily:"inherit"},children:"Cancelar"}),e.jsx("button",{type:"submit",disabled:o||!y,style:{...F,padding:"0.75rem 1.5rem",fontSize:"14px",opacity:o||!y?.4:1,cursor:o||!y?"not-allowed":"pointer"},children:o?"Subiendo...":"Enviar Diseño"})]})]})]})]})}),e.jsx("div",{className:"sa-col-side",children:e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[e.jsxs("div",{style:{background:"linear-gradient(145deg, #222222 0%, #111111 100%)",borderRadius:"1.5rem",padding:"1.75rem",position:"relative",overflow:"hidden",boxShadow:"0 20px 40px rgba(0,0,0,0.8)",border:"1px solid rgba(255,255,255,0.15)"},children:[e.jsx("div",{style:{position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle at top right, rgba(255,255,255,0.1) 0%, transparent 60%)",pointerEvents:"none"}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"2rem",position:"relative",zIndex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",color:"rgba(255,255,255,0.5)"},children:[e.jsx(ae,{size:16}),e.jsx("span",{style:{fontSize:"12px",fontWeight:600,textTransform:"uppercase",letterSpacing:"0.1em"},children:"Pago"})]}),e.jsx("span",{style:{fontSize:"10px",padding:"4px 10px",borderRadius:"6px",fontWeight:700,background:r.total-(r.monto_abonado||0)<=0?"#ffffff":"transparent",color:r.total-(r.monto_abonado||0)<=0?"#000000":"#ffffff",border:"1px solid #ffffff"},children:r.total-(r.monto_abonado||0)<=0?"PAGADO":"PENDIENTE"})]}),e.jsxs("div",{style:{position:"relative",zIndex:1},children:[e.jsx("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",marginBottom:"4px"},children:"Total a pagar"}),e.jsx("div",{style:{fontSize:"2.5rem",fontWeight:600,color:"#ffffff",letterSpacing:"-0.03em",marginBottom:"1.5rem"},children:_(r.total)}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",paddingTop:"1.25rem",borderTop:"1px solid rgba(255,255,255,0.1)"},children:[["Abonado",_(r.monto_abonado||0)],["Restante",_(r.total-(r.monto_abonado||0))]].map(([t,i])=>e.jsxs("div",{children:[e.jsx("p",{style:{fontSize:"11px",color:"rgba(255,255,255,0.4)",textTransform:"uppercase",letterSpacing:"0.05em",marginBottom:"4px"},children:t}),e.jsx("p",{style:{fontWeight:600,fontSize:"15px",color:"#ffffff"},children:i})]},t))})]})]}),e.jsxs("div",{style:{...w,padding:"1.75rem"},children:[e.jsxs("h3",{style:{fontSize:"14px",fontWeight:600,color:"#ffffff",marginBottom:"1.75rem",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(le,{size:16,color:"rgba(255,255,255,0.6)"})," Estado del Proyecto"]}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx("div",{style:{position:"absolute",left:"19px",top:"20px",bottom:"20px",width:"2px",background:"rgba(255,255,255,0.1)"}}),e.jsx("div",{style:{display:"flex",flexDirection:"column",gap:"1.5rem"},children:ee.map((t,i)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1.25rem"},children:[e.jsx("div",{style:{width:40,height:40,borderRadius:"50%",border:`2px solid ${t.done?"#ffffff":t.active?"rgba(255,255,255,0.5)":"rgba(255,255,255,0.1)"}`,background:t.done?"#ffffff":t.active?"rgba(255,255,255,0.1)":"transparent",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,zIndex:1},children:t.done?e.jsx(V,{size:18,color:"#000000"}):e.jsx("span",{style:{fontSize:"13px",fontWeight:600,color:t.active?"#ffffff":"rgba(255,255,255,0.3)"},children:i+1})}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontSize:"14px",fontWeight:600,color:t.active||t.done?"#ffffff":"rgba(255,255,255,0.4)",marginBottom:"2px"},children:t.label}),e.jsx("p",{style:{fontSize:"12px",color:"rgba(255,255,255,0.4)"},children:t.desc})]})]},i))})]})]}),e.jsxs("div",{style:{...w,overflow:"hidden"},children:[e.jsx("div",{style:{padding:"1.25rem 1.5rem",borderBottom:"1px solid rgba(255,255,255,0.08)"},children:e.jsx("h3",{style:{fontSize:"14px",fontWeight:600,color:"#ffffff"},children:"Detalles del Pedido"})}),e.jsx("div",{style:{padding:"0.75rem"},children:(X=r.detalles)==null?void 0:X.map(t=>{var i;return e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.75rem",borderRadius:"1rem",cursor:"default"},onMouseEnter:c=>c.currentTarget.style.background="rgba(255,255,255,0.05)",onMouseLeave:c=>c.currentTarget.style.background="transparent",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsxs("div",{style:{width:36,height:36,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"0.75rem",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"13px",fontWeight:600,color:"#ffffff"},children:[t.cantidad,"x"]}),e.jsxs("div",{children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:500,color:"#ffffff",maxWidth:"140px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:(i=t.item)==null?void 0:i.nombre}),e.jsxs("div",{style:{fontSize:"12px",color:"rgba(255,255,255,0.5)"},children:[_(t.precio_unitario)," c/u"]})]})]}),e.jsx("div",{style:{fontWeight:600,fontSize:"14px",color:"#ffffff"},children:_(t.total)})]},t.id)})})]})]})})]})]}),e.jsxs("div",{style:{position:"fixed",bottom:"2rem",right:"2rem",zIndex:50,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:"1rem"},children:[x&&e.jsxs("div",{style:{background:"rgba(15, 15, 15, 0.75)",backdropFilter:"saturate(180%) blur(30px)",WebkitBackdropFilter:"saturate(180%) blur(30px)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"1.5rem",boxShadow:"0 24px 60px rgba(0,0,0,0.8)",width:"90vw",maxWidth:"380px",height:"500px",display:"flex",flexDirection:"column",overflow:"hidden",marginBottom:"0.5rem"},children:[e.jsxs("div",{style:{padding:"1.25rem",borderBottom:"1px solid rgba(255,255,255,0.08)",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"0.75rem"},children:[e.jsx("div",{style:{width:36,height:36,background:"#ffffff",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(H,{size:16,color:"#000000"})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontSize:"14px",fontWeight:600,color:"#ffffff",letterSpacing:"-0.01em",marginBottom:"2px"},children:"Soporte"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"5px"},children:[e.jsx("span",{style:{width:6,height:6,background:"#ffffff",borderRadius:"50%"}}),e.jsx("span",{style:{fontSize:"11px",color:"rgba(255,255,255,0.5)",fontWeight:500},children:"En línea"})]})]})]}),e.jsx("button",{onClick:()=>O(!1),style:{width:32,height:32,background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",color:"#ffffff"},children:e.jsx(q,{size:18})})]}),e.jsxs("div",{style:{flex:1,overflowY:"auto",padding:"1.25rem",display:"flex",flexDirection:"column",gap:"1rem"},children:[n.length===0&&e.jsxs("div",{style:{height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"1rem"},children:[e.jsx("div",{style:{width:48,height:48,background:"rgba(255,255,255,0.05)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(H,{size:20,color:"rgba(255,255,255,0.4)"})}),e.jsxs("p",{style:{fontSize:"13px",color:"rgba(255,255,255,0.5)",textAlign:"center",fontWeight:500},children:["Inicia la conversación.",e.jsx("br",{}),"¡Estamos para ayudarte!"]})]}),n.map((t,i)=>e.jsx("div",{style:{display:"flex",justifyContent:t.emisor==="cliente"?"flex-end":"flex-start"},children:e.jsxs("div",{style:{maxWidth:"80%",padding:"0.75rem 1.25rem",borderRadius:t.emisor==="sistema"?"1rem":t.emisor==="cliente"?"1.25rem 1.25rem 0.25rem 1.25rem":"1.25rem 1.25rem 1.25rem 0.25rem",fontSize:"14px",background:t.emisor==="sistema"?"rgba(255,255,255,0.05)":t.emisor==="cliente"?"#ffffff":"rgba(255,255,255,0.1)",color:t.emisor==="sistema"?"rgba(255,255,255,0.6)":t.emisor==="cliente"?"#000000":"#ffffff",border:t.emisor==="staff"?"1px solid rgba(255,255,255,0.1)":"none",width:t.emisor==="sistema"?"100%":"auto",textAlign:t.emisor==="sistema"?"center":"left"},children:[e.jsx("p",{style:{lineHeight:1.5},children:t.texto}),e.jsx("div",{style:{fontSize:"11px",marginTop:"6px",textAlign:"right",color:t.emisor==="cliente"?"rgba(0,0,0,0.5)":"rgba(255,255,255,0.4)"},children:new Date(t.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})},i)),e.jsx("div",{ref:f})]}),e.jsx("form",{onSubmit:d,style:{padding:"1rem",borderTop:"1px solid rgba(255,255,255,0.08)"},children:e.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center"},children:[e.jsx("input",{value:a,onChange:t=>h(t.target.value),placeholder:"Escribe un mensaje...",style:{width:"100%",background:"rgba(255,255,255,0.05)",border:"1px solid rgba(255,255,255,0.1)",borderRadius:"999px",paddingLeft:"1.25rem",paddingRight:"3.5rem",paddingTop:"0.75rem",paddingBottom:"0.75rem",fontSize:"14px",color:"#ffffff",outline:"none",fontFamily:"inherit"},onKeyDown:t=>{t.key==="Enter"&&!t.shiftKey&&(t.preventDefault(),d(t))}}),e.jsx("button",{type:"submit",disabled:!a||b,style:{position:"absolute",right:"6px",width:36,height:36,background:a&&!b?"#ffffff":"rgba(255,255,255,0.1)",border:"none",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",cursor:a&&!b?"pointer":"not-allowed",transition:"all 0.2s"},children:e.jsx(de,{size:16,color:a&&!b?"#000000":"rgba(255,255,255,0.3)",style:{marginLeft:"-2px"}})})]})})]}),e.jsxs("button",{onClick:()=>O(!x),style:{width:60,height:60,borderRadius:"50%",background:x?"rgba(255,255,255,0.1)":"#ffffff",border:x?"1px solid rgba(255,255,255,0.2)":"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",boxShadow:x?"none":"0 10px 30px rgba(0,0,0,0.5)",transition:"all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1)",transform:x?"rotate(90deg)":"rotate(0)",position:"relative"},onMouseEnter:t=>t.currentTarget.style.transform=x?"rotate(90deg) scale(1.05)":"scale(1.05)",onMouseLeave:t=>t.currentTarget.style.transform=x?"rotate(90deg)":"rotate(0)",children:[x?e.jsx(q,{size:28,color:"#ffffff"}):e.jsx(H,{size:28,color:"#000000",fill:"#000000"}),!x&&n.length>0&&e.jsx("span",{style:{position:"absolute",top:"0",right:"0",width:22,height:22,background:"#ffffff",color:"#000000",fontSize:"11px",fontWeight:600,borderRadius:"50%",border:"2px solid #000000",display:"flex",alignItems:"center",justifyContent:"center"},children:n.length})]})]}),e.jsx("style",{children:`
                .sa-grid {
                    display: grid;
                    grid-template-columns: 1fr;
                    gap: 2rem;
                }
                .sa-col-main { grid-column: span 1; }
                .sa-col-side { grid-column: span 1; }

                @media (min-width: 1280px) {
                    .sa-grid {
                        grid-template-columns: repeat(12, 1fr);
                    }
                    .sa-col-main { grid-column: span 8; }
                    .sa-col-side { grid-column: span 4; }
                }
                @media (min-width: 640px) {
                    .sa-sm-only { display: inline !important; }
                }
                ::-webkit-scrollbar { width: 6px; }
                ::-webkit-scrollbar-track { background: transparent; }
                ::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.2); border-radius: 999px; }
            `})]})}export{we as default};
