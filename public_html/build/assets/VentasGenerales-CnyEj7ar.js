import{r as x,j as t,H as o,b as c}from"./app-BqyPfEI0.js";import{A as d}from"./AuthenticatedLayout-ChjIDkpR.js";import{R as m}from"./ReportFilter-swoZpWO3.js";import"./calendar-wzzDl4jw.js";import"./createLucideIcon-DrM2Vc-y.js";function j({reportData:l,filtros:r}){const[a,n]=x.useState(l),i=e=>{c.get(route("reportes.ventas.generales"),e,{preserveState:!0,replace:!0,onSuccess:s=>n(s.props.reportData)})};return t.jsxs(d,{children:[t.jsx(o,{title:"Reporte de Ventas Generales"}),t.jsxs("div",{className:"max-w-7xl mx-auto py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-black text-slate-900",children:"Ventas Generales"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Listado detallado de facturaciÃ³n en el periodo seleccionado."})]}),t.jsx(m,{filters:r,onFilter:i}),t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden print:shadow-none print:border-none",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-slate-900 text-white",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest",children:"Fecha"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest",children:"Factura"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest",children:"Cliente"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest",children:"Estado"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-right",children:"Subtotal"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-right",children:"ITBMS"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-right",children:"Total"})]})}),t.jsxs("tbody",{className:"divide-y divide-slate-100",children:[a.map(e=>{var s;return t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsx("td",{className:"px-6 py-4 text-sm text-slate-600 font-bold",children:e.fecha_emision}),t.jsx("td",{className:"px-6 py-4 text-sm text-blue-600 font-black",children:e.numero_factura}),t.jsx("td",{className:"px-6 py-4 text-sm text-slate-700 font-bold",children:(s=e.cliente)==null?void 0:s.razon_social}),t.jsx("td",{className:"px-6 py-4",children:t.jsx("span",{className:`px-2 py-1 rounded-full text-[10px] font-black uppercase ${e.estado==="Abierta"?"bg-blue-100 text-blue-700":e.estado==="Pagada"?"bg-green-100 text-green-700":"bg-slate-100 text-slate-600"}`,children:e.estado})}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-900 font-bold text-right",children:["$",new Intl.NumberFormat("en-US",{minimumFractionDigits:2}).format(e.subtotal)]}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-500 font-medium text-right",children:["$",new Intl.NumberFormat("en-US",{minimumFractionDigits:2}).format(e.itbms_total)]}),t.jsxs("td",{className:"px-6 py-4 text-sm text-slate-900 font-black text-right",children:["$",new Intl.NumberFormat("en-US",{minimumFractionDigits:2}).format(e.total)]})]},e.id)}),a.length===0&&t.jsx("tr",{children:t.jsx("td",{colSpan:"7",className:"px-6 py-12 text-center text-slate-400 font-bold",children:"No se encontraron ventas en este periodo"})})]}),t.jsx("tfoot",{className:"bg-slate-50 font-black text-slate-900 border-t-2 border-slate-200",children:t.jsxs("tr",{children:[t.jsx("td",{colSpan:"4",className:"px-6 py-4 text-right uppercase tracking-widest text-xs",children:"Totales del Periodo"}),t.jsxs("td",{className:"px-6 py-4 text-right",children:["$",new Intl.NumberFormat("en-US",{minimumFractionDigits:2}).format(a.reduce((e,s)=>e+parseFloat(s.subtotal),0))]}),t.jsxs("td",{className:"px-6 py-4 text-right text-slate-500",children:["$",new Intl.NumberFormat("en-US",{minimumFractionDigits:2}).format(a.reduce((e,s)=>e+parseFloat(s.itbms_total),0))]}),t.jsxs("td",{className:"px-6 py-4 text-right text-blue-600 text-lg",children:["$",new Intl.NumberFormat("en-US",{minimumFractionDigits:2}).format(a.reduce((e,s)=>e+parseFloat(s.total),0))]})]})})]})})]})]})}export{j as default};
