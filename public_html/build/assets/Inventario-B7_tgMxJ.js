import{r as c,j as e,H as x}from"./app-B9gv8ZBn.js";import{A as i}from"./AuthenticatedLayout-BtVr5BZh.js";import{u,d as h}from"./db-C7zN8BR1.js";import{B as p}from"./BottomNav-BjTtKXk1.js";function f({auth:l}){const[t,n]=c.useState(""),r=u(()=>h.inventario.toArray()),a=r==null?void 0:r.filter(s=>s.nombre.toLowerCase().includes(t.toLowerCase())||s.codigo.toLowerCase().includes(t.toLowerCase())),d=(a==null?void 0:a.reduce((s,o)=>s+o.cantidad*o.precio,0))||0;return e.jsxs(i,{user:l.user,header:e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Mi Inventario"}),children:[e.jsx(x,{title:"Inventario a Bordo"}),e.jsxs("div",{className:"flex flex-col h-[calc(100vh-65px)] pb-16",children:[" ",e.jsxs("div",{className:"bg-white p-4 shadow z-10 sticky top-0",children:[e.jsx("input",{type:"text",placeholder:"ðŸ” Buscar producto...",className:"w-full border-gray-300 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500 mb-3",value:t,onChange:s=>n(s.target.value)}),e.jsxs("div",{className:"flex justify-between text-sm text-gray-600 bg-gray-100 p-2 rounded",children:[e.jsxs("span",{children:["Items: ",e.jsx("strong",{children:(a==null?void 0:a.length)||0})]}),e.jsxs("span",{children:["Valor: ",e.jsxs("strong",{children:["$",d.toFixed(2)]})]})]})]}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 bg-gray-100",children:[a==null?void 0:a.map(s=>e.jsxs("div",{className:"bg-white p-4 rounded-lg shadow flex justify-between items-center border-l-4 border-blue-400",children:[e.jsxs("div",{className:"overflow-hidden",children:[e.jsx("h3",{className:"font-bold text-gray-900 truncate",children:s.nombre}),e.jsxs("p",{className:"text-xs text-gray-500",children:["COD: ",s.codigo]}),e.jsxs("p",{className:"text-blue-600 font-bold mt-1",children:["$",parseFloat(s.precio).toFixed(2)]})]}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("span",{className:`text-2xl font-bold ${s.cantidad<5?"text-red-600":"text-gray-800"}`,children:s.cantidad}),e.jsx("span",{className:"text-xs text-gray-400",children:"unidades"})]})]},s.item_id)),(!a||a.length===0)&&e.jsxs("div",{className:"text-center py-10",children:[e.jsx("p",{className:"text-gray-400 text-5xl mb-2",children:"ðŸ“¦"}),e.jsx("p",{className:"text-gray-500",children:"No hay inventario cargado o no coincide con la bÃºsqueda."})]})]})]}),e.jsx(p,{active:"inventario"})]})}export{f as default};
