import{r as h,j as e,H as u,L as n}from"./app-FXXXkb3F.js";import{A as g}from"./AuthenticatedLayout-BxxwF24W.js";/* empty css            */function f({auth:o,ordenes:d}){const[a,c]=h.useState(""),r=d.filter(s=>s.numero_orden.toLowerCase().includes(a.toLowerCase())||s.proveedor.razon_social.toLowerCase().includes(a.toLowerCase())),x=s=>({Enviada:"bg-blue-100 text-blue-800",Confirmada:"bg-green-100 text-green-800","Recibida Parcial":"bg-yellow-100 text-yellow-800","Recibida Total":"bg-gray-100 text-gray-800"})[s]||"bg-gray-100 text-gray-800",m=s=>{const t=Number(s||0);return t===0?"bg-red-500":t<50?"bg-orange-500":t<100?"bg-yellow-500":"bg-green-500"};return e.jsxs(g,{user:o.user,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Recepción de Órdenes de Compra"}),e.jsx(n,{href:route("compras.recepciones.historial"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 transition",children:"Ver Historial"})]}),children:[e.jsx(u,{title:"Recepción de Órdenes"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"Buscar por número de orden o proveedor...",value:a,onChange:s=>c(s.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"}),e.jsx("svg",{className:"absolute left-3 top-3 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),r.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay órdenes pendientes"}),e.jsx("p",{className:"text-gray-500",children:"No se encontraron órdenes de compra pendientes de recepción."})]}):e.jsx("div",{className:"space-y-4",children:r.map(s=>{var t,l,i;return e.jsx("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.numero_orden}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x(s.estado)}`,children:s.estado})]}),e.jsxs("p",{className:"text-gray-600 mb-1",children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",((t=s.proveedor)==null?void 0:t.razon_social)||"N/A"]}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Fecha de entrega: ",s.fecha_entrega?new Date(s.fecha_entrega).toLocaleDateString("es-ES"):"Sin fecha"]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:["$",Number(s.total||0).toFixed(2)]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[((l=s.detalles)==null?void 0:l.length)||0," ",((i=s.detalles)==null?void 0:i.length)===1?"producto":"productos"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Progreso de recepción"}),e.jsxs("span",{className:"text-sm font-medium text-gray-700",children:[Number(s.porcentaje_recibido||0),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full transition-all ${m(s.porcentaje_recibido)}`,style:{width:`${Number(s.porcentaje_recibido||0)}%`}})}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[e.jsxs("span",{children:["Recibido: ",Number(s.total_recibido||0)]}),e.jsxs("span",{children:["Total: ",Number(s.total_ordenado||0)]})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs(n,{href:route("compras.recepciones.recibir",s.id),className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white font-medium rounded-lg hover:bg-blue-700 transition",children:[e.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-6 9l2 2 4-4"})}),"Recibir Mercancía"]})})]})},s.id)})})]})})]})}export{f as default};
