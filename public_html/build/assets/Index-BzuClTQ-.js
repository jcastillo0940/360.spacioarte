import{r as m,j as e,H as h,L as i,b}from"./app-BqyPfEI0.js";import{A as g}from"./AuthenticatedLayout-ChjIDkpR.js";import{P as u}from"./package-Bd-OZMlM.js";import{T as f}from"./trending-down-B2WU8GJK.js";import{P as d}from"./plus-De02fmEl.js";import{S as x}from"./search-Cu_oT07V.js";import{F as j}from"./funnel-DWVbOFsA.js";import{L as N}from"./layers-CtqXcCOg.js";import{S as v,B as k}from"./scale-BoUDVTYQ.js";import{C as w}from"./circle-alert-DxXWaSwx.js";import{S as y}from"./square-pen-Ddr3CWTX.js";import"./createLucideIcon-DrM2Vc-y.js";function D({items:s=[]}){const[a,p]=m.useState(""),o=s.filter(t=>{var r;return t.nombre.toLowerCase().includes(a.toLowerCase())||t.codigo.toLowerCase().includes(a.toLowerCase())||((r=t.categoria)==null?void 0:r.toLowerCase().includes(a.toLowerCase()))}),c=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t),l={total:s.length,stockBajo:s.filter(t=>parseFloat(t.stock_actual)<=parseFloat(t.stock_minimo)&&t.tipo!=="Servicio").length,productos:s.filter(t=>t.tipo==="Producto Terminado").length,insumos:s.filter(t=>t.tipo==="Materia Prima"||t.es_insumo).length};return e.jsxs(g,{children:[e.jsx(h,{title:"Inventario Maestro"}),e.jsxs("div",{className:"max-w-[1600px] mx-auto p-4 sm:p-6 lg:p-8 space-y-8 animate-in fade-in duration-500",children:[e.jsxs("div",{className:"flex flex-col xl:flex-row xl:items-center justify-between gap-6 bg-white p-8 rounded-[3rem] border border-slate-200 shadow-xl overflow-hidden relative",children:[e.jsx("div",{className:"absolute top-0 right-0 w-[500px] h-[500px] bg-slate-50 rounded-full -mr-[250px] -mt-[250px] z-0 opacity-50"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-center gap-5",children:[e.jsx("div",{className:"p-5 bg-slate-900 rounded-[2rem] text-white shadow-2xl shadow-slate-200 rotate-3 transition-transform hover:rotate-0 duration-500",children:e.jsx(u,{size:32})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black text-slate-900 tracking-tighter leading-none",children:"Inventario Maestro"}),e.jsx("p",{className:"text-slate-500 font-bold uppercase text-xs tracking-[0.3em] mt-2 ml-1",children:"Catálogo Centralizado v2.0"})]})]})}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3 relative z-10",children:[e.jsxs("div",{className:"bg-slate-50 p-2 rounded-[2rem] flex gap-2 border border-slate-200",children:[e.jsxs("div",{className:"px-6 py-3 bg-white rounded-[1.5rem] shadow-sm border border-slate-100 flex flex-col items-center min-w-[110px]",children:[e.jsx("span",{className:"text-[9px] font-black text-slate-400 uppercase tracking-widest leading-none mb-1",children:"Items Totales"}),e.jsx("span",{className:"text-2xl font-black text-slate-900 leading-tight",children:l.total})]}),e.jsxs("div",{className:"px-6 py-3 bg-white rounded-[1.5rem] shadow-sm border border-slate-100 flex flex-col items-center min-w-[110px]",children:[e.jsx("span",{className:"text-[9px] font-black text-orange-400 uppercase tracking-widest leading-none mb-1",children:"Stock Bajo"}),e.jsxs("span",{className:"text-2xl font-black text-orange-600 leading-tight flex items-center gap-2",children:[l.stockBajo,l.stockBajo>0&&e.jsx(f,{size:18,className:"animate-bounce"})]})]})]}),e.jsxs(i,{href:route("items.crear"),className:"bg-slate-900 text-white px-8 py-5 rounded-[2rem] font-black uppercase text-xs tracking-widest hover:bg-blue-600 hover:scale-105 transition-all shadow-xl shadow-slate-200 flex items-center gap-3 border-b-4 border-slate-700 active:border-b-0 active:translate-y-1",children:[e.jsx(d,{size:20})," Registrar Artículo"]})]})]}),e.jsx("div",{className:"flex flex-col md:flex-row gap-4",children:e.jsxs("div",{className:"flex-1 bg-white p-3 rounded-[2.5rem] border border-slate-200 shadow-lg flex items-center gap-3",children:[e.jsx("div",{className:"p-3 bg-slate-50 rounded-2xl text-slate-400",children:e.jsx(x,{size:24})}),e.jsx("input",{type:"text",placeholder:"Buscar por código, nombre completo o categoría...",className:"flex-1 bg-transparent border-none text-lg font-bold text-slate-800 focus:ring-0 placeholder:text-slate-300",value:a,onChange:t=>p(t.target.value)}),e.jsxs("button",{className:"hidden sm:flex items-center gap-2 px-6 py-3 bg-slate-100 rounded-2xl text-[10px] font-black uppercase tracking-widest text-slate-500 hover:bg-slate-200 transition",children:[e.jsx(j,{size:14})," Filtros"]})]})}),e.jsxs("div",{className:"bg-white rounded-[3.5rem] border border-slate-200 shadow-2xl overflow-hidden relative",children:[e.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:e.jsxs("table",{className:"w-full border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-900 text-white",children:[e.jsx("th",{className:"px-10 py-8 text-left text-[10px] font-black uppercase tracking-[0.3em] opacity-50",children:"Producto e Identidad"}),e.jsx("th",{className:"px-8 py-8 text-left text-[10px] font-black uppercase tracking-[0.3em] opacity-50",children:"Configuración Técnica"}),e.jsx("th",{className:"px-8 py-8 text-center text-[10px] font-black uppercase tracking-[0.3em] opacity-50",children:"Stock Actual"}),e.jsx("th",{className:"px-8 py-8 text-right text-[10px] font-black uppercase tracking-[0.3em] opacity-50",children:"Valorización"}),e.jsx("th",{className:"px-10 py-8 text-right text-[10px] font-black uppercase tracking-[0.3em] opacity-50",children:"Gestión"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-100",children:o.length===0?e.jsx("tr",{children:e.jsxs("td",{colSpan:"5",className:"px-10 py-32 text-center",children:[e.jsx("div",{className:"w-32 h-32 bg-slate-50 rounded-[3rem] flex items-center justify-center mx-auto mb-6 text-slate-200 shadow-inner",children:e.jsx(x,{size:64})}),e.jsx("h3",{className:"text-2xl font-black text-slate-900 tracking-tighter",children:"Sin coincidencias"}),e.jsxs("p",{className:"text-slate-400 font-bold uppercase text-xs mt-3 tracking-widest",children:['No encontramos artículos para "',a,'"']})]})}):o.map(t=>{var r,n;return e.jsxs("tr",{className:"group hover:bg-slate-50/80 transition-all duration-300",children:[e.jsx("td",{className:"px-10 py-8",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-slate-100 to-slate-200 rounded-[1.5rem] flex items-center justify-center text-slate-400 font-black text-2xl group-hover:scale-110 group-hover:rotate-3 transition duration-500 shadow-sm border border-slate-200",children:t.nombre.charAt(0)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-black text-xl text-slate-900 leading-none mb-1.5 group-hover:text-blue-600 transition-colors",children:t.nombre}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("span",{className:"font-mono text-[10px] font-black text-slate-400 bg-slate-100 px-2 py-0.5 rounded-md",children:["ID: ",t.codigo]}),t.categoria&&e.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:t.categoria})]})]})]})}),e.jsxs("td",{className:"px-8 py-8",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:`px-3 py-1.5 rounded-xl text-[9px] font-black uppercase tracking-widest border ${t.tipo==="Producto Terminado"?"bg-indigo-50 text-indigo-600 border-indigo-200":t.tipo==="Materia Prima"?"bg-teal-50 text-teal-600 border-teal-200":t.tipo==="Servicio"?"bg-amber-50 text-amber-600 border-amber-200":"bg-slate-50 text-slate-600 border-slate-200"}`,children:t.tipo}),t.requires_recipe&&e.jsxs("span",{className:"px-3 py-1.5 bg-blue-50 text-blue-600 rounded-xl text-[9px] font-black uppercase tracking-widest border border-blue-200 flex items-center gap-1.5",children:[e.jsx(N,{size:10})," Receta / BOM"]}),t.es_insumo&&e.jsx("span",{className:"px-3 py-1.5 bg-orange-50 text-orange-600 rounded-xl text-[9px] font-black uppercase tracking-widest border border-orange-200",children:"Uso Interno"})]}),e.jsxs("div",{className:"mt-3 flex gap-4",children:[((r=t.units)==null?void 0:r.length)>0&&e.jsxs("div",{className:"text-[9px] font-bold text-slate-400 uppercase flex items-center gap-1.5",children:[e.jsx(v,{size:12,className:"text-slate-300"})," ",t.units.length," Presentaciones"]}),((n=t.ingredientes)==null?void 0:n.length)>0&&e.jsxs("div",{className:"text-[9px] font-bold text-purple-400 uppercase flex items-center gap-1.5",children:[e.jsx(k,{size:12,className:"text-purple-300"})," ",t.ingredientes.length," Componentes"]})]})]}),e.jsx("td",{className:"px-8 py-8",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("div",{className:`text-3xl font-black leading-none tracking-tighter ${parseFloat(t.stock_actual)<=parseFloat(t.stock_minimo)&&t.tipo!=="Servicio"?"text-red-500 animate-pulse":"text-slate-900"}`,children:parseFloat(t.stock_actual).toLocaleString()}),e.jsx("div",{className:"text-[10px] font-black text-slate-400 uppercase tracking-[0.2em] mt-2 ml-1",children:t.unidad_medida}),parseFloat(t.stock_actual)<=parseFloat(t.stock_minimo)&&t.tipo!=="Servicio"&&e.jsxs("div",{className:"bg-red-50 text-red-500 px-3 py-1 rounded-lg text-[8px] font-black uppercase tracking-[0.15em] mt-3 flex items-center gap-1.5 border border-red-100",children:[e.jsx(w,{size:10})," Stock Crítico"]})]})}),e.jsxs("td",{className:"px-8 py-8 text-right",children:[e.jsx("div",{className:"text-2xl font-black text-blue-600 leading-none mb-1.5",children:c(t.precio_venta)}),e.jsxs("div",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-widest",children:["Costo ref: ",c(t.costo_promedio)]})]}),e.jsx("td",{className:"px-10 py-8 text-right",children:e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsx(i,{href:route("items.edit",t.id),className:"p-4 bg-slate-50 text-slate-400 rounded-2xl hover:bg-slate-900 hover:text-white hover:scale-110 transition duration-500 shadow-sm border border-slate-100 group/btn",children:e.jsx(y,{size:22,className:"group-hover/btn:rotate-12 transition-transform"})}),e.jsx("button",{onClick:()=>{confirm("¿Estás seguro de eliminar este artículo?")&&b.delete(route("items.destroy",t.id))},className:"p-4 bg-white text-slate-200 rounded-2xl hover:bg-red-50 hover:text-red-500 transition duration-500 border border-slate-100",children:e.jsx(d,{size:22,className:"rotate-45"})})]})})]},t.id)})})]})}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-slate-50 rounded-full -mr-48 -mb-48 opacity-20 -z-10"})]})]}),e.jsx("style",{dangerouslySetInnerHTML:{__html:`
                .custom-scrollbar::-webkit-scrollbar {
                    height: 8px;
                    width: 6px;
                }
                .custom-scrollbar::-webkit-scrollbar-track {
                    background: #f8fafc;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb {
                    background: #e2e8f0;
                    border-radius: 10px;
                }
                .custom-scrollbar::-webkit-scrollbar-thumb:hover {
                    background: #cbd5e1;
                }
            `}})]})}export{D as default};
