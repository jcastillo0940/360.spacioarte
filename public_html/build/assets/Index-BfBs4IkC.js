import{r as l,j as e,H as u,b as f,L as b}from"./app-C7fXC9xy.js";import{A as g}from"./AuthenticatedLayout-DSgvOGZX.js";import{M as j}from"./monitor-DTBz3iQR.js";import{c as N}from"./createLucideIcon-Br14Htuj.js";import{P as n}from"./palette-BLhh4bW2.js";import{P as v}from"./printer-CGAowp5s.js";import{L as w}from"./layers-Db79RQOZ.js";import{C as y}from"./clock-Ad6sujdi.js";import{T as k}from"./timer-DSVskw-q.js";import{C as S}from"./chevron-right-CRUAcBvw.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["path",{d:"M9 9.003a1 1 0 0 1 1.517-.859l4.997 2.997a1 1 0 0 1 0 1.718l-4.997 2.997A1 1 0 0 1 9 14.996z",key:"kmsa83"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],z=N("circle-play",_);function K({procesos:d}){const[a,o]=l.useState({disenos:[],producciones:[]}),[D,x]=l.useState(!0),[m,p]=l.useState(new Date),r=async()=>{try{const s=await f.get("/api/produccion/kds/data");o(s.data),p(new Date),x(!1)}catch(s){console.error("Error fetching KDS data:",s)}};l.useEffect(()=>{r();const s=setInterval(r,3e4);return()=>clearInterval(s)},[]);const h=(s,t)=>s==="diseno"?t==="En Proceso de Diseño"||t==="Rediseñando"?"bg-blue-500":t==="Diseño Rechazado"?"bg-red-500":"bg-slate-400":t==="En Máquina"?"bg-green-500":"bg-amber-500",c=s=>e.jsxs("div",{className:"bg-slate-900 border border-slate-800 rounded-3xl p-5 shadow-2xl hover:border-blue-500/50 transition-all group relative overflow-hidden",children:[s.timer_activo&&e.jsx("div",{className:"absolute top-0 right-0 p-2",children:e.jsxs("span",{className:"flex h-3 w-3 relative",children:[e.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-blue-400 opacity-75"}),e.jsx("span",{className:"relative inline-flex rounded-full h-3 w-3 bg-blue-500"})]})}),e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsx("div",{className:`px-3 py-1 rounded-full text-[9px] font-black uppercase tracking-widest text-white ${h(s.tipo,s.estado)}`,children:s.estado}),e.jsxs("div",{className:"text-[10px] font-bold text-slate-500 flex items-center gap-1",children:[e.jsx(y,{size:12})," ",s.fecha_entrega?new Date(s.fecha_entrega).toLocaleDateString():"S/F"]})]}),e.jsxs("div",{className:"space-y-1 mb-4",children:[e.jsxs("h4",{className:"text-white font-black text-lg tracking-tighter italic",children:["#",s.numero]}),e.jsx("p",{className:"text-slate-400 text-xs font-bold uppercase truncate",children:s.cliente})]}),s.item&&e.jsxs("div",{className:"bg-white/5 rounded-xl p-3 mb-4",children:[e.jsx("div",{className:"text-[9px] font-black text-slate-500 uppercase",children:"Trabajo:"}),e.jsxs("div",{className:"text-xs font-bold text-blue-400",children:[s.cantidad,"x ",s.item]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-slate-800",children:[s.timer_activo?e.jsxs("div",{className:"flex items-center gap-2 text-blue-400 animate-pulse",children:[e.jsx(k,{size:14}),e.jsxs("span",{className:"text-[10px] font-black font-mono",children:[s.minutos_transcurridos,"m activado"]})]}):e.jsx("div",{className:"text-slate-600 text-[10px] font-bold italic",children:"En espera..."}),e.jsx(b,{href:s.tipo==="diseno"?`/ventas/ordenes/${s.id}`:"#",className:"p-2 bg-slate-800 rounded-xl hover:bg-blue-600 transition-colors text-white",children:e.jsx(S,{size:16})})]})]},`${s.tipo}-${s.id}`);return e.jsxs(g,{children:[e.jsx(u,{title:"KDS Board - 360 SpacioArte"}),e.jsxs("div",{className:"bg-slate-950 min-h-screen p-6 space-y-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-6 bg-slate-900/50 p-6 rounded-[2.5rem] border border-slate-900 backdrop-blur-xl",children:[e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsx("div",{className:"w-16 h-16 bg-blue-600 rounded-[2rem] flex items-center justify-center text-white shadow-[0_0_30px_rgba(37,99,235,0.4)]",children:e.jsx(j,{size:32})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-4xl font-black text-white tracking-tighter italic uppercase",children:["Panel de Producción ",e.jsx("span",{className:"text-blue-500",children:"KDS"})]}),e.jsx("p",{className:"text-slate-500 font-bold uppercase text-[10px] tracking-[0.4em] mt-1",children:"Real-time Production Monitoring System"})]})]}),e.jsxs("div",{className:"flex items-center gap-4 bg-slate-950/50 px-6 py-4 rounded-[1.5rem] border border-slate-800",children:[e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-[9px] font-black text-slate-600 uppercase tracking-widest leading-none mb-1",children:"Última Actualización"}),e.jsx("div",{className:"text-blue-400 font-mono text-xs font-bold",children:m.toLocaleTimeString()})]}),e.jsx("div",{className:"h-8 w-px bg-slate-800"}),e.jsx("button",{onClick:r,className:"p-3 hover:bg-white/5 rounded-full transition-all active:scale-90 text-slate-400",children:e.jsx(z,{size:20})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-8",children:[e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(n,{className:"text-blue-500",size:24}),e.jsx("h2",{className:"text-xl font-black text-white uppercase italic",children:"DISEÑO"})]}),e.jsx("span",{className:"bg-blue-600/20 text-blue-400 px-3 py-1 rounded-full text-[10px] font-black border border-blue-500/20",children:a.disenos.length})]}),e.jsxs("div",{className:"flex-1 bg-slate-900/20 border border-slate-900/50 p-4 rounded-[2rem] space-y-6 overflow-y-auto max-h-[1200px] scrollbar-hide shadow-inner",children:[a.disenos.length===0&&e.jsxs("div",{className:"py-20 text-center opacity-10",children:[e.jsx(n,{size:48,className:"mx-auto"}),e.jsx("p",{className:"mt-4 font-black uppercase text-[10px]",children:"Sin diseños pendientes"})]}),a.disenos.map(s=>c(s))]})]}),d.map(s=>{const t=a.producciones.filter(i=>i.proceso_id===s.id);return e.jsxs("div",{className:"flex flex-col gap-6",children:[e.jsxs("div",{className:"flex items-center justify-between px-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(v,{className:"text-amber-500",size:24}),e.jsx("h2",{className:"text-xl font-black text-white uppercase italic",children:s.nombre})]}),e.jsx("span",{className:"bg-amber-600/20 text-amber-400 px-3 py-1 rounded-full text-[10px] font-black border border-amber-500/20",children:t.length})]}),e.jsxs("div",{className:"flex-1 bg-slate-900/20 border border-slate-900/50 p-4 rounded-[2rem] space-y-6 overflow-y-auto max-h-[1200px] scrollbar-hide shadow-inner",children:[t.length===0&&e.jsxs("div",{className:"py-20 text-center opacity-10",children:[e.jsx(w,{size:48,className:"mx-auto"}),e.jsx("p",{className:"mt-4 font-black uppercase text-[10px]",children:"Sin trabajos en cola"})]}),t.map(i=>c(i))]})]},s.id)})]})]}),e.jsx("style",{children:`
                .scrollbar-hide::-webkit-scrollbar { display: none; }
                .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
            `})]})}export{K as default};
