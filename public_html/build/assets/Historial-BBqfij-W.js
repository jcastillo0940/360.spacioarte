import{r as o,j as e,H as g,L as i}from"./app-FXXXkb3F.js";import{A as u}from"./AuthenticatedLayout-BxxwF24W.js";/* empty css            */function N({auth:n,recepciones:a}){const[r,c]=o.useState(""),[l,m]=o.useState(""),d=a.data.filter(s=>{const t=!r||new Date(s.fecha_recepcion).toLocaleDateString("es-ES").includes(r),h=!l||s.tipo===l;return t&&h}),x=s=>s==="completa"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800";return e.jsxs(u,{user:n.user,header:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h2",{className:"font-semibold text-xl text-gray-800 leading-tight",children:"Historial de Recepciones"}),e.jsx(i,{href:route("compras.recepciones.index"),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition",children:"← Volver a Recepciones"})]}),children:[e.jsx(g,{title:"Historial de Recepciones"}),e.jsx("div",{className:"py-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto sm:px-6 lg:px-8",children:[e.jsx("div",{className:"bg-white rounded-lg shadow-sm p-4 mb-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrar por Fecha"}),e.jsx("input",{type:"text",value:r,onChange:s=>c(s.target.value),placeholder:"dd/mm/aaaa",className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtrar por Tipo"}),e.jsxs("select",{value:l,onChange:s=>m(s.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Todos"}),e.jsx("option",{value:"parcial",children:"Parcial"}),e.jsx("option",{value:"completa",children:"Completa"})]})]})]})}),d.length===0?e.jsxs("div",{className:"bg-white rounded-lg shadow-sm p-12 text-center",children:[e.jsx("svg",{className:"mx-auto h-16 w-16 text-gray-400 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No hay recepciones"}),e.jsx("p",{className:"text-gray-500",children:"No se encontraron recepciones con los filtros aplicados."})]}):e.jsx("div",{className:"space-y-4",children:d.map(s=>e.jsx("div",{className:"bg-white rounded-lg shadow-sm hover:shadow-md transition",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:s.numero_recepcion}),e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${x(s.tipo)}`,children:s.tipo==="completa"?"Completa":"Parcial"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Orden:"})," ",s.orden_compra.numero_orden]}),e.jsxs("p",{className:"text-gray-600",children:[e.jsx("span",{className:"font-medium",children:"Proveedor:"})," ",s.orden_compra.proveedor.razon_social]}),e.jsxs("p",{className:"text-sm text-gray-500",children:[e.jsx("span",{className:"font-medium",children:"Recibido por:"})," ",s.usuario.name]}),e.jsx("p",{className:"text-sm text-gray-500",children:new Date(s.fecha_recepcion).toLocaleString("es-ES",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Items recibidos"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.cantidad_total_items}),e.jsxs("p",{className:"text-lg text-gray-600 mt-2",children:["$",s.total_recibido.toFixed(2)]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[e.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:"Productos Recibidos:"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:s.detalles.map(t=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-medium text-sm text-gray-900",children:t.item.nombre}),e.jsxs("p",{className:"text-xs text-gray-500",children:["Código: ",t.item.codigo]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("p",{className:"font-semibold text-gray-900",children:[t.cantidad_recibida," / ",t.cantidad_ordenada]}),e.jsxs("p",{className:"text-xs text-gray-500",children:["$",(t.cantidad_recibida*t.costo_unitario).toFixed(2)]})]})]},t.id))})]}),s.observaciones&&e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 rounded",children:[e.jsx("p",{className:"text-sm font-medium text-gray-700 mb-1",children:"Observaciones:"}),e.jsx("p",{className:"text-sm text-gray-600",children:s.observaciones})]}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsxs(i,{href:route("compras.recepciones.show",s.id),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 transition",children:["Ver Detalle Completo",e.jsx("svg",{className:"w-4 h-4 ml-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"})})]})})]})},s.id))}),a.links&&a.links.length>3&&e.jsx("div",{className:"mt-6 flex justify-center",children:e.jsx("nav",{className:"flex items-center gap-2",children:a.links.map((s,t)=>e.jsx(i,{href:s.url||"#",className:`px-4 py-2 rounded-lg text-sm font-medium transition ${s.active?"bg-blue-600 text-white":s.url?"bg-white text-gray-700 hover:bg-gray-100":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,dangerouslySetInnerHTML:{__html:s.label}},t))})})]})})]})}export{N as default};
