import{j as e,H as p,a as h}from"./app-3DoqhR_o.js";import{A as m}from"./AuthenticatedLayout-314zbiSn.js";function j({auth:n,contacto:s,movimientos:i,saldo_total:d,resumen:c,saldo_anterior:x,filtros:a}){const l=t=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t||0),o=t=>{t.preventDefault();const r=new FormData(t.target);h.get(route("finanzas.estado-cuenta",s.id),{fecha_desde:r.get("fecha_desde"),fecha_hasta:r.get("fecha_hasta")},{preserveState:!0})};return e.jsxs(m,{user:n.user,header:e.jsx("h2",{className:"font-semibold text-xl text-slate-800 leading-tight",children:"Estado de Cuenta"}),children:[e.jsx(p,{title:`Estado de Cuenta - ${s.razon_social}`}),e.jsxs("div",{className:"max-w-5xl mx-auto py-8 px-4",children:[e.jsx("div",{className:"mb-6 bg-white p-6 rounded-xl shadow-sm border border-slate-200 no-print",children:e.jsxs("form",{onSubmit:o,className:"flex flex-wrap items-end gap-4",children:[e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-1",children:"Desde"}),e.jsx("input",{type:"date",name:"fecha_desde",defaultValue:a==null?void 0:a.desde,className:"w-full rounded-lg border-slate-200 text-sm focus:ring-blue-500"})]}),e.jsxs("div",{className:"flex-1 min-w-[200px]",children:[e.jsx("label",{className:"block text-[10px] font-black text-slate-400 uppercase mb-1",children:"Hasta"}),e.jsx("input",{type:"date",name:"fecha_hasta",defaultValue:a==null?void 0:a.hasta,className:"w-full rounded-lg border-slate-200 text-sm focus:ring-blue-500"})]}),e.jsx("button",{type:"submit",className:"bg-slate-900 text-white px-6 py-2.5 rounded-lg font-bold text-sm hover:bg-slate-800 transition",children:"Filtrar Periodo"})]})}),e.jsxs("div",{className:"bg-white rounded-xl shadow-xl border border-slate-200 overflow-hidden print:shadow-none print:border-slate-300",children:[e.jsx("div",{className:"bg-slate-900 text-white p-8 print:bg-slate-900 print:!text-white",style:{WebkitPrintColorAdjust:"exact"},children:e.jsxs("div",{className:"flex flex-col md:flex-row justify-between gap-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-black uppercase tracking-tighter mb-2 italic",children:"Estado de Cuenta"}),e.jsx("p",{className:"text-blue-400 text-xl font-bold",children:s.razon_social}),e.jsxs("p",{className:"text-slate-400 text-sm mt-1 font-mono uppercase",children:["ID: ",s.identificacion," ",s.dv?`DV: ${s.dv}`:""]})]}),e.jsxs("div",{className:"bg-white/10 p-6 rounded-lg backdrop-blur-sm border border-white/10 text-right",children:[e.jsx("div",{className:"text-xs text-slate-400 uppercase font-black tracking-widest mb-1",children:"Saldo al Corte"}),e.jsx("div",{className:`text-5xl font-black ${d<=0?"text-emerald-400":"text-rose-400"}`,children:l(d)})]})]})}),e.jsxs("div",{className:"grid grid-cols-2 border-b border-slate-200 bg-slate-50 print:bg-white",children:[e.jsxs("div",{className:"p-4 text-center border-r border-slate-200",children:[e.jsx("span",{className:"block text-[10px] font-black text-slate-400 uppercase",children:"Total por Cobrar"}),e.jsx("span",{className:"text-lg font-bold text-slate-700",children:l(c.por_cobrar)})]}),e.jsxs("div",{className:"p-4 text-center",children:[e.jsx("span",{className:"block text-[10px] font-black text-slate-400 uppercase",children:"Total por Pagar"}),e.jsx("span",{className:"text-lg font-bold text-slate-700",children:l(c.por_pagar)})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-slate-100 text-slate-600 border-b border-slate-300",children:[e.jsx("th",{className:"px-6 py-4 text-left font-black uppercase text-[10px]",children:"Fecha"}),e.jsx("th",{className:"px-6 py-4 text-left font-black uppercase text-[10px]",children:"Concepto"}),e.jsx("th",{className:"px-6 py-4 text-right font-black uppercase text-[10px]",children:"Débito (+)"}),e.jsx("th",{className:"px-6 py-4 text-right font-black uppercase text-[10px]",children:"Crédito (-)"}),e.jsx("th",{className:"px-6 py-4 text-right font-black uppercase text-[10px] bg-slate-200/50",children:"Saldo"})]})}),e.jsxs("tbody",{className:"divide-y divide-slate-100",children:[e.jsxs("tr",{className:"bg-slate-50/80 italic",children:[e.jsx("td",{className:"px-6 py-4 text-slate-400",children:a==null?void 0:a.desde}),e.jsx("td",{className:"px-6 py-4 text-slate-500 font-bold uppercase text-[10px]",children:"Saldo Anterior"}),e.jsx("td",{className:"px-6 py-4 text-right",children:"-"}),e.jsx("td",{className:"px-6 py-4 text-right",children:"-"}),e.jsx("td",{className:"px-6 py-4 text-right font-bold text-slate-600",children:l(x)})]}),i.map((t,r)=>e.jsxs("tr",{className:`print:break-inside-avoid ${t.descripcion==="Nota de Crédito"?"bg-rose-50/50":""}`,children:[e.jsx("td",{className:"px-6 py-4 text-slate-500",children:t.fecha}),e.jsxs("td",{className:"px-6 py-4",children:[e.jsx("div",{className:`font-bold ${t.descripcion==="Nota de Crédito"?"text-rose-700":"text-slate-800"}`,children:t.descripcion}),e.jsxs("div",{className:"text-[10px] font-mono text-slate-400",children:["Ref: ",t.referencia]})]}),e.jsx("td",{className:"px-6 py-4 text-right font-medium",children:t.debito>0?l(t.debito):"-"}),e.jsx("td",{className:"px-6 py-4 text-right font-bold text-blue-600",children:t.credito>0?l(t.credito):"-"}),e.jsx("td",{className:"px-6 py-4 text-right font-bold bg-slate-50/30",children:l(t.saldo_acumulado)})]},r))]})]})}),e.jsxs("div",{className:"bg-slate-50 p-6 border-t border-slate-200 flex justify-between items-center no-print",children:[e.jsx("button",{onClick:()=>window.history.back(),className:"text-slate-500 font-bold hover:text-slate-800 transition flex items-center gap-2 text-sm",children:"Volver"}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("a",{href:route("finanzas.estado-cuenta.pdf",{contacto:s.id,fecha_desde:a.desde,fecha_hasta:a.hasta}),target:"_blank",className:"px-6 py-3 bg-blue-600 text-white rounded-lg font-black uppercase text-[10px] tracking-widest hover:bg-blue-700 transition flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"PDF Oficial"]}),e.jsxs("button",{onClick:()=>window.print(),className:"px-6 py-3 bg-slate-900 text-white rounded-lg font-black uppercase text-[10px] tracking-widest hover:bg-slate-800 transition flex items-center gap-2",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 17h2a2 2 0 002-2v-4a2 2 0 00-2-2H5a2 2 0 00-2 2v4a2 2 0 00-2 2h2m2 4h6a2 2 0 002-2v-4a2 2 0 00-2-2H9a2 2 0 00-2 2v4a2 2 0 002 2zm8-12V5a2 2 0 00-2-2H9a2 2 0 00-2 2v4h10z"})}),"Imprimir"]})]})]})]}),e.jsx("div",{className:"mt-4 text-center",children:e.jsxs("p",{className:"text-[10px] text-slate-400 uppercase font-bold italic",children:["ERP System - Reporte de Cartera - ",new Date().toLocaleDateString()," ",new Date().toLocaleTimeString()]})})]})]})}export{j as default};
