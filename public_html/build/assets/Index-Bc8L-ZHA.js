import{R as x,a as p,j as e,H as m,L as o}from"./app-B9gv8ZBn.js";import{A as h}from"./AuthenticatedLayout-BtVr5BZh.js";import{P as d}from"./palette-DG73C3F0.js";import{C as c}from"./clock-DcFQkxZp.js";import{M as u}from"./message-square-Bvj4H8n0.js";import{U as b}from"./upload-7iKC3RfR.js";import"./createLucideIcon-CS3OZA2G.js";function k({ordenes:n}){x.useEffect(()=>{const s=window.Echo.channel("orders");return s.listen("OrderStateChanged",t=>{console.log("Orden actualizada:",t),p.reload({only:["ordenes"]})}),()=>{s.stopListening("OrderStateChanged")}},[]);const a=n.filter(s=>s.estado==="Pendiente"||s.estado==="Borrador"),l=n.filter(s=>s.estado==="Diseño");return e.jsxs(h,{children:[e.jsx(m,{title:"Estudio de Diseño"}),e.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-8",children:[e.jsxs("div",{className:"flex items-center justify-between bg-white p-6 rounded-2xl shadow-sm border border-slate-100",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl font-black text-slate-900 flex items-center gap-3",children:[e.jsx(d,{className:"text-purple-600",size:32}),"ESTUDIO CREATIVO"]}),e.jsx("p",{className:"text-slate-500 font-medium mt-1",children:"Gestión de flujo de trabajo de diseño y pre-prensa"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"bg-purple-50 text-purple-700 px-4 py-2 rounded-xl font-bold flex flex-col items-center",children:[e.jsx("span",{className:"text-xs uppercase tracking-wider opacity-70",children:"En Proceso"}),e.jsx("span",{className:"text-2xl",children:l.length})]}),e.jsxs("div",{className:"bg-slate-50 text-slate-700 px-4 py-2 rounded-xl font-bold flex flex-col items-center",children:[e.jsx("span",{className:"text-xs uppercase tracking-wider opacity-70",children:"Pendientes"}),e.jsx("span",{className:"text-2xl",children:a.length})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-slate-400 font-black text-xs uppercase tracking-widest flex items-center gap-2",children:[e.jsx(c,{size:16})," Cola de Espera (",a.length,")"]}),a.length===0&&e.jsx("div",{className:"bg-slate-50 border-2 border-dashed border-slate-200 rounded-xl p-8 text-center text-slate-400 font-medium",children:"No hay órdenes pendientes"}),a.map(s=>{var t,i;return e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-sm border border-slate-200 hover:shadow-md transition-shadow group relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-slate-300"}),e.jsxs("div",{className:"flex justify-between items-start mb-3 pl-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("span",{className:"bg-slate-100 text-slate-600 text-[10px] font-black px-2 py-0.5 rounded uppercase",children:s.numero_orden}),e.jsx("span",{className:"text-xs font-bold text-slate-400",children:(t=s.vendedor)==null?void 0:t.nombre})]}),e.jsx("h3",{className:"font-bold text-slate-800 text-lg leading-tight",children:(i=s.cliente)==null?void 0:i.razon_social})]}),e.jsx(o,{href:route("produccion.diseno.show",s.id),className:"bg-purple-600 hover:bg-purple-700 text-white rounded-full px-4 py-2 shadow-lg shadow-purple-200 transition-all hover:scale-105 text-xs font-black uppercase",children:"Ver Detalles"})]}),e.jsxs("div",{className:"pl-3 space-y-3",children:[s.detalles.map(r=>e.jsxs("div",{className:"text-sm text-slate-600 bg-slate-50 p-2 rounded-lg border border-slate-100 flex justify-between",children:[e.jsx("span",{children:r.item.nombre}),e.jsxs("span",{className:"font-bold",children:["x",r.cantidad]})]},r.id)),s.detalle_diseno&&e.jsxs("div",{className:"text-xs text-slate-500 bg-yellow-50 p-3 rounded-lg border border-yellow-100 italic",children:[e.jsx(u,{size:12,className:"inline mr-1"}),'"',s.detalle_diseno,'"']})]})]},s.id)})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h2",{className:"text-purple-600 font-black text-xs uppercase tracking-widest flex items-center gap-2",children:[e.jsx(d,{size:16})," En Mesa de Diseño (",l.length,")"]}),l.length===0&&e.jsx("div",{className:"bg-purple-50/50 border-2 border-dashed border-purple-100 rounded-xl p-8 text-center text-purple-400 font-medium",children:"No hay trabajos activos. ¡Toma uno de la cola!"}),l.map(s=>{var t;return e.jsxs("div",{className:"bg-white p-5 rounded-2xl shadow-lg shadow-purple-50 border border-purple-100 hover:border-purple-300 transition-colors group relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-1 h-full bg-purple-500"}),e.jsxs("div",{className:"flex justify-between items-start mb-4 pl-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"bg-purple-100 text-purple-700 text-[10px] font-black px-2 py-0.5 rounded uppercase mb-2 inline-block",children:s.numero_orden}),e.jsx("h3",{className:"font-bold text-slate-900 text-xl",children:(t=s.cliente)==null?void 0:t.razon_social}),e.jsxs("p",{className:"text-xs text-slate-500 mt-1 font-medium bg-slate-100 inline-block px-2 py-1 rounded",children:["Entrega: ",s.fecha_entrega]})]}),s.estado_diseno==="Enviado"?e.jsxs("span",{className:"bg-orange-100 text-orange-700 text-[10px] font-bold px-2 py-1 rounded-lg flex items-center gap-1",children:[e.jsx(c,{size:12})," Enviado al Cliente"]}):e.jsxs("span",{className:"bg-green-100 text-green-700 text-[10px] font-bold px-2 py-1 rounded-lg flex items-center gap-1",children:[e.jsx(d,{size:12})," Trabajando"]})]}),e.jsxs("div",{className:"pl-3 space-y-4",children:[e.jsxs(o,{href:route("produccion.diseno.show",s.id),className:"w-full bg-slate-900 hover:bg-black text-white py-3 rounded-xl font-bold flex items-center justify-center gap-2 transition-all shadow-lg hover:shadow-xl",children:[e.jsx(b,{size:18})," Procesar Diseño"]}),s.diseno_intentos>0&&e.jsxs("div",{className:"text-center text-xs text-slate-400 font-bold uppercase tracking-wider",children:["Versión actual: v",s.diseno_intentos]})]})]},s.id)})]})]})]})]})}export{k as default};
