import{j as t,H as x,b as c}from"./app-BqyPfEI0.js";import{A as i}from"./AuthenticatedLayout-ChjIDkpR.js";import{R as n}from"./ReportFilter-swoZpWO3.js";import"./calendar-wzzDl4jw.js";import"./createLucideIcon-DrM2Vc-y.js";function j({reportData:a,filtros:r}){const d=e=>{c.get(route("reportes.ventas.rentabilidad"),e,{preserveState:!0})},l=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e);return t.jsxs(i,{children:[t.jsx(x,{title:"Rentabilidad por Ítem"}),t.jsxs("div",{className:"max-w-7xl mx-auto py-8",children:[t.jsxs("div",{className:"mb-8",children:[t.jsx("h1",{className:"text-3xl font-black text-slate-900",children:"Rentabilidad por Ítem"}),t.jsx("p",{className:"text-slate-600 mt-2",children:"Cruce de ingresos vs Costo Promedio Ponderado para determinar utilidades reales."})]}),t.jsx(n,{filters:r,onFilter:d}),t.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-slate-200 overflow-hidden",children:t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full text-left",children:[t.jsx("thead",{className:"bg-slate-900 text-white",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest",children:"Producto"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-right",children:"Cant Vendida"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-right",children:"Venta Total"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-right",children:"Costo Prom"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-right",children:"Costo Total"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-right",children:"Utilidad"}),t.jsx("th",{className:"px-6 py-4 text-xs font-black uppercase tracking-widest text-center",children:"Margen %"})]})}),t.jsx("tbody",{className:"divide-y divide-slate-100",children:a.map((e,s)=>t.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[t.jsxs("td",{className:"px-6 py-4",children:[t.jsx("div",{className:"font-black text-slate-900",children:e.nombre}),t.jsx("div",{className:"text-[10px] text-slate-400 font-bold uppercase",children:e.codigo})]}),t.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-600 text-right",children:e.cantidad}),t.jsx("td",{className:"px-6 py-4 text-sm font-black text-slate-900 text-right",children:l(e.venta_total)}),t.jsx("td",{className:"px-6 py-4 text-sm font-medium text-slate-400 text-right",children:l(e.costo_promedio)}),t.jsx("td",{className:"px-6 py-4 text-sm font-bold text-slate-600 text-right",children:l(e.costo_total)}),t.jsx("td",{className:`px-6 py-4 text-sm font-black text-right ${e.utilidad>=0?"text-green-600":"text-red-600"}`,children:l(e.utilidad)}),t.jsx("td",{className:"px-6 py-4 text-center",children:t.jsxs("span",{className:`px-3 py-1 rounded-full text-[10px] font-black ${e.margen>30?"bg-green-100 text-green-700":e.margen>10?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:[e.margen.toFixed(2),"%"]})})]},s))}),t.jsx("tfoot",{className:"bg-slate-900 text-white font-black",children:t.jsxs("tr",{children:[t.jsx("td",{className:"px-6 py-6 uppercase tracking-widest text-xs",children:"Consolidado Total"}),t.jsx("td",{className:"px-6 py-6 text-right",children:a.reduce((e,s)=>e+parseFloat(s.cantidad),0)}),t.jsx("td",{className:"px-6 py-6 text-right",children:l(a.reduce((e,s)=>e+parseFloat(s.venta_total),0))}),t.jsx("td",{className:"px-6 py-6"}),t.jsx("td",{className:"px-6 py-6 text-right opacity-60",children:l(a.reduce((e,s)=>e+parseFloat(s.costo_total),0))}),t.jsx("td",{className:"px-6 py-6 text-right text-green-400 text-xl",children:l(a.reduce((e,s)=>e+parseFloat(s.utilidad),0))}),t.jsxs("td",{className:"px-6 py-6 text-center",children:[(a.reduce((e,s)=>e+s.utilidad,0)/a.reduce((e,s)=>e+s.venta_total,1)*100).toFixed(2),"%"]})]})})]})})})]})]})}export{j as default};
