import{r,u as d,j as e,H as p}from"./app-DUrg3GOp.js";import{A as h}from"./AuthenticatedLayout-C3zTQCkg.js";function j(){const[i,c]=r.useState([]),[x,m]=r.useState([]),[l,n]=r.useState("taxes"),t=d({nombre:"",tasa:"",codigo_dgi:"",es_exento:!1}),a=d({nombre:"",dias_vencimiento:""});r.useEffect(()=>{o()},[]);const o=()=>{fetch("/api/configuracion/parametros").then(s=>s.json()).then(s=>{c(s.impuestos),m(s.terminos_pago)})},b=s=>{s.preventDefault(),t.post("/configuracion/parametros/impuestos",{onSuccess:()=>{t.reset(),o()}})},u=s=>{s.preventDefault(),a.post("/configuracion/parametros/terminos-pago",{onSuccess:()=>{a.reset(),o()}})};return e.jsxs(h,{children:[e.jsx(p,{title:"Parametrización"}),e.jsxs("div",{className:"max-w-6xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-black text-slate-900",children:"Parametrización del Sistema"}),e.jsx("p",{className:"text-slate-600 mt-2",children:"Impuestos y términos de pago"})]}),e.jsxs("div",{className:"flex gap-2 mb-6",children:[e.jsxs("button",{onClick:()=>n("taxes"),className:`px-6 py-3 rounded-t-lg font-bold transition flex items-center gap-2 ${l==="taxes"?"bg-white text-blue-600 border-b-4 border-blue-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 7h6m0 10v-3m-3 3h.01M9 17h.01M9 14h.01M12 14h.01M15 11h.01M12 11h.01M9 11h.01M7 21h10a2 2 0 002-2V5a2 2 0 00-2-2H7a2 2 0 00-2 2v14a2 2 0 002 2z"})}),"Impuestos"]}),e.jsxs("button",{onClick:()=>n("terms"),className:`px-6 py-3 rounded-t-lg font-bold transition flex items-center gap-2 ${l==="terms"?"bg-white text-blue-600 border-b-4 border-blue-600":"bg-slate-100 text-slate-600 hover:bg-slate-200"}`,children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Términos de Pago"]})]}),l==="taxes"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("form",{onSubmit:b,className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200 h-fit",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Nuevo Impuesto"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-2",children:"Nombre"}),e.jsx("input",{type:"text",value:t.data.nombre,onChange:s=>t.setData("nombre",s.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",placeholder:"ITBMS"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-2",children:"Tasa (%)"}),e.jsx("input",{type:"number",step:"0.01",value:t.data.tasa,onChange:s=>t.setData("tasa",s.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-2",children:"Código DGI"}),e.jsx("input",{type:"text",value:t.data.codigo_dgi,onChange:s=>t.setData("codigo_dgi",s.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition"})]}),e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:t.data.es_exento,onChange:s=>t.setData("es_exento",s.target.checked),className:"rounded border-slate-300"}),e.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Exento"})]}),e.jsx("button",{type:"submit",disabled:t.processing,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition",children:"Agregar"})]})]}),e.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-900 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold uppercase",children:"Nombre"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"Tasa"}),e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold uppercase",children:"Código DGI"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold uppercase",children:"Estado"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:i.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[e.jsx("td",{className:"px-6 py-4 font-bold text-slate-900",children:s.nombre}),e.jsxs("td",{className:"px-6 py-4 text-right text-blue-600 font-bold",children:[s.tasa,"%"]}),e.jsx("td",{className:"px-6 py-4 text-slate-600",children:s.codigo_dgi||"-"}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-bold ${s.es_exento?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:s.es_exento?"Exento":"Activo"})})]},s.id))})]})})]}),l==="terms"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("form",{onSubmit:u,className:"bg-white p-6 rounded-lg shadow-sm border border-slate-200 h-fit",children:[e.jsx("h2",{className:"text-lg font-bold text-slate-800 mb-4",children:"Nuevo Término"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-2",children:"Nombre"}),e.jsx("input",{type:"text",value:a.data.nombre,onChange:s=>a.setData("nombre",s.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition",placeholder:"30 días"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs font-bold uppercase text-slate-500 mb-2",children:"Días de Vencimiento"}),e.jsx("input",{type:"number",value:a.data.dias_vencimiento,onChange:s=>a.setData("dias_vencimiento",s.target.value),className:"w-full px-4 py-3 rounded-lg border border-slate-300 focus:border-blue-500 focus:ring-1 focus:ring-blue-500 transition"})]}),e.jsx("button",{type:"submit",disabled:a.processing,className:"w-full px-6 py-3 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition",children:"Agregar"})]})]}),e.jsx("div",{className:"lg:col-span-2 bg-white rounded-lg shadow-sm border border-slate-200 overflow-hidden",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-slate-900 text-white",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-4 text-left text-sm font-bold uppercase",children:"Término"}),e.jsx("th",{className:"px-6 py-4 text-right text-sm font-bold uppercase",children:"Días"}),e.jsx("th",{className:"px-6 py-4 text-center text-sm font-bold uppercase",children:"Estado"})]})}),e.jsx("tbody",{className:"divide-y divide-slate-200",children:x.map(s=>e.jsxs("tr",{className:"hover:bg-slate-50 transition",children:[e.jsx("td",{className:"px-6 py-4 font-bold text-slate-900",children:s.nombre}),e.jsx("td",{className:"px-6 py-4 text-right text-blue-600 font-bold",children:s.dias_vencimiento}),e.jsx("td",{className:"px-6 py-4 text-center",children:e.jsx("span",{className:"px-3 py-1 rounded-full text-xs font-bold bg-green-100 text-green-700",children:"Activo"})})]},s.id))})]})})]})]})]})}export{j as default};
